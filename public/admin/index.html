<!-- Admin Interface (public/admin/index.html) -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Master - Administration</title>
    <!-- Bootstrap 5 CSS -->
    <link href="/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/custom.css">
</head>
<body class="bg-light">
    <div class="container-fluid px-4 py-3">
        <header class="mb-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h1 class="mb-0">Quiz Master - Administration</h1>
                </div>
                <div class="col-md-6">
                    <div id="admin-info" class="d-flex justify-content-md-end align-items-center">
                        <div id="user-display" class="me-3"><span id="username-label">Connecté en tant que :</span> <span id="username" class="fw-bold text-primary"></span></div>
                        <a href="/logout" class="btn btn-outline-secondary btn-sm">Déconnexion</a>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <div class="admin-panel">
                <div class="quiz-management-section">
                    <h2>Gestion des Quiz</h2>
                    <div class="quiz-actions mb-4">
                        <button id="create-quiz-btn" class="btn btn-primary">Créer un nouveau Quiz</button>
                    </div>
                    
                    <div class="quiz-list-container">
                        <h3>Quiz disponibles</h3>
                        <table id="quiz-table" class="table">
                            <thead>
                                <tr>
                                    <th>Nom</th>
                                    <th>Questions</th>
                                    <th>Statut</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="quiz-list"></tbody>
                        </table>
                    </div>
                </div>

                <div id="quiz-editor" class="hidden">
                    <h2><span id="editor-title">Créer un nouveau Quiz</span></h2>
                    <div class="quiz-form">
                        <div class="mb-3">
                            <label for="quiz-name" class="form-label">Nom du quiz:</label>
                            <input type="text" class="form-control" id="quiz-name" placeholder="Entrez un nom pour ce quiz">
                        </div>
                        <div class="mb-3">
                            <label for="quiz-description" class="form-label">Description:</label>
                            <textarea class="form-control" id="quiz-description" placeholder="Décrivez ce quiz (optionnel)"></textarea>
                        </div>
                        <h3>Questions</h3>
                        <div id="questions-container"></div>
                        <button id="add-question-btn" class="btn btn-outline-secondary mb-4">Ajouter une question</button>
                        <div class="quiz-form-actions">
                            <button id="save-quiz-btn" class="btn btn-primary">Enregistrer</button>
                            <button id="cancel-edit-btn" class="btn btn-outline-secondary">Annuler</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Modèles pour le JavaScript -->
        <template id="question-template">
            <div class="question-item">
                <div class="question-header">
                    <h4>Question <span class="question-number"></span></h4>
                    <button class="remove-question-btn btn btn-danger btn-sm">Supprimer</button>
                </div>
                <div class="mb-3">
                    <label class="form-label">Texte de la question:</label>
                    <input type="text" class="form-control question-text" placeholder="Entrez la question">
                </div>
                <div class="mb-3">
                    <label class="form-label">Options (la correcte est marquée par *):</label>
                    <div class="options-container">
                        <div class="option-item mb-2">
                            <input type="radio" name="correct-option-{index}" class="correct-option form-check-input me-2" value="0">
                            <input type="text" class="form-control option-text" placeholder="Option 1">
                        </div>
                        <div class="option-item mb-2">
                            <input type="radio" name="correct-option-{index}" class="correct-option form-check-input me-2" value="1">
                            <input type="text" class="form-control option-text" placeholder="Option 2">
                        </div>
                        <div class="option-item mb-2">
                            <input type="radio" name="correct-option-{index}" class="correct-option form-check-input me-2" value="2">
                            <input type="text" class="form-control option-text" placeholder="Option 3">
                        </div>
                        <div class="option-item mb-2">
                            <input type="radio" name="correct-option-{index}" class="correct-option form-check-input me-2" value="3">
                            <input type="text" class="form-control option-text" placeholder="Option 4">
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Explication (optionnel):</label>
                    <textarea class="form-control question-explanation" placeholder="Explication de la bonne réponse"></textarea>
                </div>
            </div>
        </template>
        
        <template id="quiz-row-template">
            <tr class="quiz-row">
                <td class="quiz-name"></td>
                <td class="quiz-questions"></td>
                <td class="quiz-status"></td>
                <td class="quiz-actions">
                    <button class="activate-quiz-btn btn btn-success btn-sm me-1">Activer</button>
                    <button class="edit-quiz-btn btn btn-primary btn-sm me-1">Modifier</button>
                    <button class="delete-quiz-btn btn btn-danger btn-sm">Supprimer</button>
                </td>
            </tr>
        </template>

        <footer class="mt-5 text-center text-muted">
            <p>Quiz App © 2025 | Version <span id="app-version">-</span></p>
        </footer>
    </div>

    <div id="confirmation-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Confirmation</h3>
            <p id="modal-message">Êtes-vous sûr de vouloir effectuer cette action?</p>
            <div class="modal-actions">
                <button id="confirm-action-btn" class="btn btn-danger">Confirmer</button>
                <button id="cancel-action-btn" class="btn btn-secondary">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html> 